# üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –°–ò–°–¢–ï–ú–´ - –í–∞—Ä–∏–∞–Ω—Ç 3 (–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å)

## üìê –û–±—â–∞—è —Å—Ö–µ–º–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      TRADING ALERT SYSTEM                            ‚îÇ
‚îÇ                   (DynamoDB + Lambda + Gradio + Sheets)              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

                          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                          ‚îÇ Google Sheets‚îÇ  
                          ‚îÇ  (Optional)  ‚îÇ  ‚Üê –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã: –±—ã—Å—Ç—Ä–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
                          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
                                 ‚îÇ Sync (manual)
                                 ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         DYNAMODB TABLE                              ‚îÇ
‚îÇ                      (trading-alerts)                               ‚îÇ
‚îÇ                  ‚Üê –ï–î–ò–ù–´–ô –ò–°–¢–û–ß–ù–ò–ö –î–ê–ù–ù–´–• ‚Üí                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ                                             ‚îÇ
        ‚îÇ                                             ‚îÇ
        ‚Üì                                             ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ AWS LAMBDA   ‚îÇ                              ‚îÇ  GRADIO UI   ‚îÇ
‚îÇ (Auto Check) ‚îÇ                              ‚îÇ  (Web UI)    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ                                             ‚îÇ
       ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                     ‚îÇ
       ‚îÇ ‚îÇ EventBridge (Cron) ‚îÇ                     ‚îÇ
       ‚îÇ ‚îÇ  Every 1 hour      ‚îÇ                     ‚îÇ
       ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                     ‚îÇ
       ‚îÇ                                             ‚îÇ
       ‚Üì                                             ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Read Signals‚îÇ                              ‚îÇ User Actions ‚îÇ
‚îÇ  from DynamoDB                              ‚îÇ - Create     ‚îÇ
‚îÇ     ‚Üì        ‚îÇ                              ‚îÇ - View       ‚îÇ
‚îÇ Check Prices ‚îÇ                              ‚îÇ - Delete     ‚îÇ
‚îÇ  (Exchanges) ‚îÇ                              ‚îÇ - Check Price‚îÇ
‚îÇ     ‚Üì        ‚îÇ                              ‚îÇ - Sync Sheets‚îÇ
‚îÇ Send Pushover‚îÇ                              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ Notifications‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

        ‚Üì                                             ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  EXCHANGES   ‚îÇ                              ‚îÇ    USERS     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§                              ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚Ä¢ Binance    ‚îÇ                              ‚îÇ Web Browser  ‚îÇ
‚îÇ ‚Ä¢ Bybit      ‚îÇ                              ‚îÇ localhost:   ‚îÇ
‚îÇ ‚Ä¢ Coinbase   ‚îÇ                              ‚îÇ   7860       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üîÑ Data Flow

### Flow 1: –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–∞ —á–µ—Ä–µ–∑ Gradio

```
User (Browser)
    ‚Üì
Gradio UI: "Create Signal" form
    ‚Üì
gradio_app.py: create_signal_async()
    ‚Üì
DynamoDBStorage.save_signal()
    ‚Üì
AWS DynamoDB Table: "trading-alerts"
    ‚Üì
[Optional] Google Sheets: append row
    ‚Üì
SUCCESS ‚úÖ
```

### Flow 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ Lambda

```
EventBridge Rule (hourly)
    ‚Üì
AWS Lambda: lambda_function.handler()
    ‚Üì
DynamoDBStorage.get_all_signals()
    ‚Üì
DynamoDB: read all active signals
    ‚Üì
For each signal:
    ‚Üì
    PriceChecker.get_price(exchange, symbol)
    ‚Üì
    Exchange API (Binance/Bybit/Coinbase)
    ‚Üì
    Compare: current_price vs target_price
    ‚Üì
    If triggered:
        ‚Üì
        Notifier.send_pushover()
        ‚Üì
        Pushover API ‚Üí User's phone üì±
        ‚Üì
        DynamoDBStorage.update_signal_status()
```

### Flow 3: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–∑ Google Sheets

```
User: Edit Google Sheets
    ‚Üì
Gradio UI: "Sync from Sheets" button
    ‚Üì
SheetsReader.read_signals()
    ‚Üì
Google Sheets API: fetch all rows
    ‚Üì
Parse rows ‚Üí SignalTarget objects
    ‚Üì
For each signal:
    DynamoDBStorage.save_signal()
    ‚Üì
DynamoDB: upsert signals
    ‚Üì
SUCCESS ‚úÖ
```

---

## üß© –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### 1. **DynamoDB Table** (–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)

```
Table Name: trading-alerts
Partition Key: id (String)

Signal Attributes:
‚îú‚îÄ‚îÄ id: unique identifier (UUID)
‚îú‚îÄ‚îÄ name: signal name
‚îú‚îÄ‚îÄ exchange: binance | bybit | coinbase
‚îú‚îÄ‚îÄ symbol: BTCUSDT, ETHUSDT, etc.
‚îú‚îÄ‚îÄ condition: above | below
‚îú‚îÄ‚îÄ target_price: float
‚îú‚îÄ‚îÄ active: boolean
‚îú‚îÄ‚îÄ user_id: Pushover user key
‚îú‚îÄ‚îÄ created_at: timestamp
‚îú‚îÄ‚îÄ updated_at: timestamp
‚îú‚îÄ‚îÄ triggered_count: int
‚îú‚îÄ‚îÄ last_triggered: timestamp (optional)
‚îî‚îÄ‚îÄ notes: string (optional)
```

### 2. **AWS Lambda** (–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è)

```
Function Name: trading-alerts-checker
Runtime: Python 3.11
Memory: 512 MB
Timeout: 60 seconds
Region: us-east-2 (–∏–∑–±–µ–≥–∞–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –æ—Ç –±–∏—Ä–∂)

Triggers:
‚îî‚îÄ‚îÄ EventBridge Rule: rate(1 hour)

Permissions:
‚îú‚îÄ‚îÄ DynamoDB: Read/Write on trading-alerts table
‚îú‚îÄ‚îÄ Secrets Manager: Read exchange API keys
‚îú‚îÄ‚îÄ CloudWatch Logs: Write logs
‚îî‚îÄ‚îÄ VPC: None (public internet for exchange APIs)

Environment Variables:
‚îú‚îÄ‚îÄ DYNAMODB_TABLE_NAME=trading-alerts
‚îú‚îÄ‚îÄ DYNAMODB_REGION=us-east-2
‚îî‚îÄ‚îÄ [Exchange keys loaded from Secrets Manager]
```

### 3. **Gradio UI** (–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)

```
Application: gradio_app.py
Framework: Gradio 4.x
Port: 7860 (default)

Tabs:
‚îú‚îÄ‚îÄ Create Signal   ‚Üê —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è
‚îú‚îÄ‚îÄ View Signals    ‚Üê —Ç–∞–±–ª–∏—Ü–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
‚îú‚îÄ‚îÄ Delete Signal   ‚Üê —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ ID
‚îú‚îÄ‚îÄ Check Price     ‚Üê real-time —Ü–µ–Ω—ã
‚îî‚îÄ‚îÄ Sync from Sheets ‚Üê –º–∞—Å—Å–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

Services Used:
‚îú‚îÄ‚îÄ DynamoDBStorage  ‚Üê –æ—Å–Ω–æ–≤–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
‚îú‚îÄ‚îÄ SheetsReader     ‚Üê Google Sheets API
‚îú‚îÄ‚îÄ PriceChecker     ‚Üê –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–Ω —Å –±–∏—Ä–∂
‚îî‚îÄ‚îÄ Exchange APIs    ‚Üê Binance, Bybit, Coinbase
```

### 4. **Google Sheets** (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```
Purpose: –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏
Access: Service Account (JSON credentials)

Columns:
‚îú‚îÄ‚îÄ Symbol        (BTCUSDT)
‚îú‚îÄ‚îÄ Condition     (above/below)
‚îú‚îÄ‚îÄ Target Price  (50000)
‚îú‚îÄ‚îÄ Exchange      (bybit)
‚îú‚îÄ‚îÄ Active        (TRUE/FALSE)
‚îú‚îÄ‚îÄ User Key      (Pushover)
‚îî‚îÄ‚îÄ Notes         (optional)

Sync:
‚îî‚îÄ‚îÄ Manual via Gradio "Sync from Sheets" button
```

### 5. **Exchange APIs**

```
Supported Exchanges:
‚îú‚îÄ‚îÄ Binance
‚îÇ   ‚îú‚îÄ‚îÄ Endpoint: api.binance.com
‚îÇ   ‚îú‚îÄ‚îÄ Symbols: BTCUSDT, ETHUSDT, etc.
‚îÇ   ‚îî‚îÄ‚îÄ Fallback: api1.binance.com, api2.binance.com
‚îÇ
‚îú‚îÄ‚îÄ Bybit
‚îÇ   ‚îú‚îÄ‚îÄ Endpoint: api.bybit.com
‚îÇ   ‚îú‚îÄ‚îÄ Symbols: BTCUSDT, ETHUSDT, etc.
‚îÇ   ‚îî‚îÄ‚îÄ Fallback: api-testnet.bybit.com
‚îÇ
‚îî‚îÄ‚îÄ Coinbase
    ‚îú‚îÄ‚îÄ Endpoint: api.coinbase.com
    ‚îú‚îÄ‚îÄ Symbols: BTC-USD, ETH-USD, etc.
    ‚îî‚îÄ‚îÄ Symbol conversion: BTCUSDT ‚Üí BTC-USD
```

### 6. **Notification System**

```
Service: Pushover
API: https://api.pushover.net/1/messages.json

Notification Format:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üö® Price Alert Triggered!    ‚îÇ
‚îÇ                              ‚îÇ
‚îÇ Signal: BTC above 50k        ‚îÇ
‚îÇ Exchange: Bybit              ‚îÇ
‚îÇ Symbol: BTCUSDT              ‚îÇ
‚îÇ Current: $51,234.56          ‚îÇ
‚îÇ Target: $50,000.00           ‚îÇ
‚îÇ Time: 2025-11-14 11:45       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üîê Security & Credentials

### AWS Secrets Manager

```
Secrets stored:
‚îú‚îÄ‚îÄ trading-alerts/binance
‚îÇ   ‚îú‚îÄ‚îÄ api_key
‚îÇ   ‚îî‚îÄ‚îÄ api_secret
‚îÇ
‚îú‚îÄ‚îÄ trading-alerts/bybit
‚îÇ   ‚îú‚îÄ‚îÄ api_key
‚îÇ   ‚îî‚îÄ‚îÄ api_secret
‚îÇ
‚îú‚îÄ‚îÄ trading-alerts/coinbase
‚îÇ   ‚îú‚îÄ‚îÄ api_key
‚îÇ   ‚îî‚îÄ‚îÄ api_secret
‚îÇ
‚îú‚îÄ‚îÄ trading-alerts/pushover
‚îÇ   ‚îú‚îÄ‚îÄ app_token
‚îÇ   ‚îî‚îÄ‚îÄ user_key (default)
‚îÇ
‚îî‚îÄ‚îÄ trading-alerts/google-sheets
    ‚îî‚îÄ‚îÄ credentials_json
```

### Local .env file (for Gradio)

```
# AWS
AWS_ACCESS_KEY_ID=AKIA...
AWS_SECRET_ACCESS_KEY=...
DYNAMODB_TABLE_NAME=trading-alerts
DYNAMODB_REGION=us-east-2

# Exchanges (at least one required)
BINANCE_API_KEY=...
BINANCE_API_SECRET=...
BYBIT_API_KEY=...
BYBIT_API_SECRET=...
COINBASE_API_KEY=...
COINBASE_API_SECRET=...

# Pushover
PUSHOVER_APP_TOKEN=...
PUSHOVER_USER_KEY=...

# Google Sheets (optional)
GOOGLE_SHEETS_CREDENTIALS_PATH=./credentials.json
GOOGLE_SPREADSHEET_ID=...
```

---

## üöÄ Deployment Architecture

### Current Setup (Working)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           AWS Cloud (us-east-2)             ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ         Lambda Function               ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  trading-alerts-checker               ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ Trigger: EventBridge (hourly)    ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ Runtime: Python 3.11             ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ Package: S3 deployment           ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ Size: ~50MB (with dependencies)  ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ       DynamoDB Table                  ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  trading-alerts                       ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ Partition Key: id                ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ Billing: On-Demand               ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ Capacity: Auto-scaling           ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ      Secrets Manager                  ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ Exchange API keys                ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ Pushover credentials             ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ Google Sheets credentials        ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ      CloudWatch                       ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ Logs                             ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ Metrics                          ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ Alarms (optional)                ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         Local / Cloud (Gradio)              ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ       Gradio Application              ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  gradio_app.py                        ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ Host: localhost:7860 OR          ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ         Hugging Face Spaces        ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ Access: DynamoDB (boto3)         ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ UI: Create/View/Delete signals   ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         External Services                   ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Google Sheets API                     ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Binance API                           ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Bybit API                             ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Coinbase API                          ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ Pushover API                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üéØ Use Cases & Workflows

### Use Case 1: Quick Alert —á–µ—Ä–µ–∑ Gradio

```
Admin opens Gradio UI
    ‚Üì
Create Signal form:
- Symbol: BTCUSDT
- Condition: above
- Target: 50000
- Exchange: bybit
    ‚Üì
Click "Create Signal"
    ‚Üì
Saved to DynamoDB ‚úÖ
    ‚Üì
Lambda checks hourly
    ‚Üì
When BTC > 50k ‚Üí Pushover notification üì±
```

### Use Case 2: Bulk Management —á–µ—Ä–µ–∑ Google Sheets

```
Admin opens Google Sheets
    ‚Üì
Add multiple rows:
ETHUSDT  | above | 3000  | binance | TRUE
SOLUSDT  | above | 150   | bybit   | TRUE
ADAUSDT  | below | 0.5   | coinbase| TRUE
    ‚Üì
Save changes
    ‚Üì
Open Gradio ‚Üí Sync from Sheets
    ‚Üì
All signals loaded to DynamoDB ‚úÖ
    ‚Üì
Lambda monitors all signals
```

### Use Case 3: Price Monitoring

```
User opens Gradio
    ‚Üì
Tab: "Check Price"
    ‚Üì
Select: Exchange=bybit, Symbol=BTCUSDT
    ‚Üì
Click "Check Price"
    ‚Üì
Real-time price from Bybit API ‚úÖ
    ‚Üì
Display: price, volume, timestamp
```

---

## üìä Data Models

### SignalTarget (Pydantic Model)

```python
class SignalTarget(BaseModel):
    id: str = Field(default_factory=lambda: str(uuid.uuid4()))
    name: str
    exchange: ExchangeType  # binance | bybit | coinbase
    symbol: str  # BTCUSDT, ETHUSDT, etc.
    condition: SignalCondition  # above | below
    target_price: float
    active: bool = True
    user_id: Optional[str] = None
    created_at: datetime = Field(default_factory=datetime.utcnow)
    updated_at: datetime = Field(default_factory=datetime.utcnow)
    triggered_count: int = 0
    last_triggered: Optional[datetime] = None
    notes: Optional[str] = None
```

### PriceData (Pydantic Model)

```python
class PriceData(BaseModel):
    exchange: ExchangeType
    symbol: str
    price: float
    volume_24h: float
    timestamp: datetime
    raw_data: Dict[str, Any] = {}
```

---

## üîß Configuration

### Lambda Environment Variables

```python
DYNAMODB_TABLE_NAME = "trading-alerts"
DYNAMODB_REGION = "us-east-2"
```

### Gradio .env Variables

```python
# AWS
AWS_ACCESS_KEY_ID = "AKIA..."
AWS_SECRET_ACCESS_KEY = "..."
DYNAMODB_TABLE_NAME = "trading-alerts"
DYNAMODB_REGION = "us-east-2"

# At least one exchange
BYBIT_API_KEY = "..."
BYBIT_API_SECRET = "..."

# Optional
PUSHOVER_APP_TOKEN = "..."
GOOGLE_SHEETS_CREDENTIALS_PATH = "./credentials.json"
```

---

## üéâ SUMMARY

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

‚úÖ **AWS Lambda** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–π —á–∞—Å  
‚úÖ **DynamoDB** - –Ω–∞–¥–µ–∂–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–∏–≥–Ω–∞–ª–æ–≤  
‚úÖ **Gradio UI** - –∫—Ä–∞—Å–∏–≤—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å  
‚úÖ **Google Sheets** - –±—ã—Å—Ç—Ä–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)  
‚úÖ **Multi-Exchange** - Binance, Bybit, Coinbase  
‚úÖ **Pushover** - –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è  

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

- **–î–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è** - Lambda –∏ Gradio —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- **–ì–∏–±–∫–æ—Å—Ç—å** - –º–æ–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —á–µ—Ä–µ–∑ UI –∏–ª–∏ Sheets
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - DynamoDB –∫–∞–∫ –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –±–∏—Ä–∂–∏
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - Secrets Manager –¥–ª—è credentials

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 14 –Ω–æ—è–±—Ä—è 2025*
